<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<style type="text/css">
	*{margin: 0;padding: 0}
	div{overflow: scroll;
		overflow: hidden;
	}
     li{list-style: none;width: 400px;height: 200px;float: left;font-size: 30px;color: red;text-align: center;line-height: 200px;}
	</style>
</head>
<body>
	<div class="outer" style="heihgt:200px;width: 400px;margin: auto;">
		<ul class="inner" style="height: 200px;background:red;">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
		</ul>
	</div>
	<button class="gunl">left</button>
	<button class="gun">right</button>
	<script type="text/javascript">
	// 随机给li加上背景色
		for(var i=0;i<$("li").length;i++){
		var r = Math.round(Math.random()*255);
		var g = Math.round(Math.random()*255);
		var b = Math.round(Math.random()*255);
       $("li").eq(i).css({background:"rgb("+r+","+g+","+b+")"})
     }
     //根据子元素个数自适应宽度
    $(".inner").width($(".inner").children().length*400);
      var getwidth=$(".inner").width();
      var runtime=null;
      var stoptime=null;
    runtime=setInterval(move,3000);
// 向右滚动函数
      function move(){
      	var scrolls=$("div").scrollLeft();
        // 判断临界值
       	if($("div").scrollLeft()==getwidth-400){
       		$("div").stop();
       		$("div").scrollLeft("0");
       	}else{
       		$("div").animate({scrollLeft:scrolls+400+"px"},"fast");
             }
       }
// 向左滚动函数
      function movel(){
        	var scrolls=$("div").scrollLeft();
          if($("div").scrollLeft()==0){
       		  $("div").stop();
       		  $("div").scrollLeft(getwidth-400);
       	  }else{
            $("div").animate({scrollLeft:scrolls-400+"px"},"fast");
          }
      }
       $(".gun,.gunl").mouseenter(function(){
       	stoptime=clearInterval(runtime);
       })
       $(".gun,.gunl").mouseleave(function(){
       	runtime=setInterval(move,2000);
       })
// 右点击按钮
        $(".gun").click(function(){
        move();
       })
// 左点击按钮
        $(".gunl").click(function(){
       	movel();
       })
	</script>
</body>
</html>